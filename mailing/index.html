<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>reCAPTCHA v3 Form</title>
  <script src="https://www.google.com/recaptcha/api.js?render=6LcerCwrAAAAACIgJGlMRhH0xXBp9LuYaaCOwqOq"></script>
  <script>
    function onSubmit(token) {
      document.getElementById("contact-form").submit();
    }

    function executeRecaptcha(e) {
      e.preventDefault(); // Prevent default form submit
      grecaptcha.ready(function() {
        grecaptcha.execute('6LcerCwrAAAAACIgJGlMRhH0xXBp9LuYaaCOwqOq', {action: 'submit'}).then(function(token) {
          document.getElementById('recaptcha-token').value = token;
          document.getElementById("contact-form").submit();
        });
      });
    }
  </script>
</head>
<body>
  <form id="contact-form" action="submit.php" method="POST" onsubmit="executeRecaptcha(event)">
    <label for="name">Name:</label><br>
    <input type="text" id="name" name="name" required><br>

    <label for="email">Email:</label><br>
    <input type="email" id="email" name="email" required><br>

    <!-- Hidden input to store the reCAPTCHA token -->
    <input type="hidden" id="recaptcha-token" name="recaptcha_token">

    <input type="submit" value="Submit">
  </form>
</body>
</html>
